# 1. Введение
**Социальные сети** — важный элемент нашей повседневной жизни. Они приносят человеку много пользы, однако, одними из самых полезных возможностей можно считать следующие:
  * Поиск помощников для учебного проекта
  * Связь со старшими курсами для получения консультаций по различным вопросам
  * Привлечение внимание к учебным и развлекательным мероприятиям
  К сожалению, основная масса социальных сетей не приспособлены к этому, из-за чего приходится решать данную проблему способами, которые не всегда бывают эффективны и / или удобны. 

## 1.1 Глоссарий
- **Модерировать** — редактировать, убирать из общей выборки сущностей в соответсветвии с определёнными правилами.

- **Интересы** — конечное множество тэгов в анкете Пользователя, по которому осуществляется подбор собеседников, например, “ASP.NET”, “Дискретная математика”. Пользователь вправе выбрать количество тэгов $>= N$.

- **Совпадение интересов** — специальное событие, которое происходит в случае, если у два пользователя взаимно положительно оценили профили друг друга.

## 1.2 Описание предметной области

Текущая работа посвящена решению проблемы студентов, преподавателей и сотрудников ДВФУ — нехватки возможности быстро находить собеседника (помощника, наставника). Существуют следующие решения данной проблемы:
  * Применение уже существующих Мессенджеров и/или Социальных сетей
  * Применение сервисов знакомств
  * Применение досок объявлений

Очевидно, что предложенные методы являются либо устаревшими, либо недостаточно сильно ориентированы на решение конкретной задачи.
Кроме того, можно утверждать, что текущее решение этой проблемы может применяться не только в ДВФУ, но и в других крупных ВУЗах.

## 1.3 Неформальная постановка задачи
Требуется реализовать проект социального сервиса для студентов, работников и преподавателей ДВФУ, имеющий следующие возможности:

  * Поиск помощников для создания проекта, путем создания соответствующего объявления.
  * Связь со старшими курсами своего или других образовательных программ с целью получения консультации по учебным или организационным моментам или другой полезной информации.
  * Привлечение внимания к участию в учебных и развлекательных мероприятиях путем создания соответствующего объявления. 


## 1.4 Обзор существующих методов решения
На данный момент, для решения проблем, описанных п. 2.2, используются глобальные социальные сети, в которых создаются соответствующие чаты и / или сообщества для конкретных социальных групп. Однако, такой подход довольно неэффективен, так как многие могут не узнать или потерять связь с теми или иными сообществами / чатами, и соответственно, не иметь возможности решить описанные в п. 2.3 проблемы. Настоящий проект может решить данную проблему, так как вся необходимая информация будет публиковаться в одном приложении и будет видна всем желающим людям.

Популярные приложения имеющие схожий функционал:
  * VK
  * Одноклассники
  * Tinder
  * The Naked Scientists
  * Science
  * ResearchGateBlog
  * Orcid
  * FB Campus
  * To students

*ЛИЧНЫЙ ПРОФИЛЬ УБРАТЬ*
*ДОПИСАТЬ СПЕЦИФИЧНЫЕ КРИТЕРИИ ДЛЯ НАШЕГО ПРОЕКТА*

*ДОБАВИТЬ НАЗВАНИЕ АЯКС.ЛЮДИ*

|                                      | VK | FB Campus | TNC | To students | Science | Одноклассники | Tinder | Реализуемый  проект |
|:------------------------------------:|:--:|:---------:|:---:|:-----------:|:-------:|:-------------:|:------:|:-------------------:|
|            Личный профиль            |  + |     +     |  +  |      +      |    +    |       +       |    +   |          +          |
|            Публикация фото           |  + |     +     |  -  |      +      |    -    |       +       |    +   |          +          |
|    Поиск собеседника  по интересам   |  - |     +     |  +  |      -      |    +    |       -       |    +   |          +          |
|               Переписка              |  + |     +     |  -  |      +      |    +    |       +       |    +   |          +          |
| Проверка на  настоящего пользователя |  - |     -     |  -  |      +      |    -    |       -       |    -   |          +          |
*Таблица 1. Сравнение существующих методов решения*

Исходя из данной таблицы, можно сделать вывод, что, в отличии от остальных социальных сетей, реализуемый проект, реализует весь функционал, необходимый для решения поставленной задачи. 




# 2. Функциональные требования

*САМЫЕ МЕЛКИЕ ДЕТАЛИ*
*ЧТО ТАКОЕ ПОИСК... ЧТО ТАКОЕ СОВПАДЕНИЕ ИНТЕРЕСОВ
*СИСТЕМА ДОЛЖНА ПОЗВОЛЯТЬ ПОЛЬЗОВАТЕЛЮ*
*ФУНКЦИЙ В ДВА РАЗА БОЛЬШЕ*

#### Разработанная система должна иметь следующий функционал:
- **регистрация и авторизация** Пользователей
- **чат** между двумя Пользователями, в случае, если произошло Совпадение интересов (раздел *ЧАТ*)
- **поиск** других Пользователей (раздел *ПОИСК*). Осуществляется следующим образом: 
  1. Пользователь устанавливает набор своих Интересов
  2. осуществляется запрос к БД, происходит фильтрация всех Пользователей по Интересам (те, у кого нет общих с текущим Пользователем Интересов — отбрасываются, выводится сообщение об их отсутствии)
  3. происходит сортировка. Чем больше общих интересов разделяет текущий Пользователь с другим, тем другой находится выше в списке.
  4. в каждый момент времени Пользователь наблюдает только одну карточку с профилем другого, отображаются:
      - имя
      - курс, школа, направление подготовки
  5. Пользователь имеет право отметить понравившийся профиль и/или пропустить его
- **создание объявлений** (раздел *ПОСТЫ*)
- **возможность подписаться** на обновления Школ (раздел *ПОСТЫ*)

---

#### Разработанная система должна иметь следующие категории пользователей:
- Система должна позволять **Администратору**:
  - модерировать аккаунты Обычных пользователей через админ-панель
  - скрывать себя из общей выборки Пользователей
  - совершать все действия, доступные Пользователю
- Система должна позволять **Пользователю**:
  - регистрироваться, авторизироваться
  - изменять данные профиля
  - осуществлять поиск других Пользователей по Интересам
  - писать сообщения другим Пользователям
  - создавать объявления

*ПЕРЕПИСАТЬ В ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ*
*СИСТЕМА ДОЛЖНА ПОЗВОЛЯТЬ ВВЕСТИ ПОЛЬЗОВАТЕЛЮ ->*

В разделе *ЛИЧНЫЕ ДАННЫЕ* **Пользователя** содержится следующая информация:
- обязательная:
  1. имя, фамилия (показывается только при Совпадении интересов)
  2. возраст
  3. курс, школа, направление подготовки (в ДВФУ)
  4. Интересы
  5. электронная почта
- необязательная:
  1. аватар
  2. описание профиля


# 4 Спецификация данных

## 4.1 Описание формата
  Формат проекта - Сайт
	Предполагаем носитель - Любой веб-браузер
	Текстовый формат, кодировка UTF-16, правила использования символов перевода строки и возврата каретки - CR/LF(carriage return/linefeed)

## 4.2 Описание сущности
|                Полное название               |   Тип  | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:--------------------------------------------:|:------:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|                 Идентификатор                |  Число |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
|                      Имя                     | Строка |             50 символов            |                +               |        +       |        -       |          Null         |
|                    Фамилия                   | Строка |             50 символов            |                +               |        +       |        -       |          Null         |
|                    Возраст                   |  Число |                  -                 |                +               |        -       |        -       |          Null         |
|                     Почта                    | Строка |            100 символов            |                +               |        +       |        -       |          Null         |
|                    Статус                    |  Enum  |             4 элемента             |                +               |        +       |        -       |          Null         |
|      Уровень образования(Квалификация)       |  Enum  |             4 элемента             |                +               |        +       |        -       |          Null         |
|    Идентификатор образовательной программы   |  Число |                  -                 |                +               |        +       |        -       |          Null         |
|        Идентификатор Института(школы)        |  Число |                  -                 |                +               |        +       |        -       |          Null         |
|             Год поступления в вуз            |  Дата  |          начиная с 70 года         |                -               |        -       |        -       |          Null         |
|              Год окончания вуза              |  Дата  |          начиная с 70 года         |                -               |        -       |        -       |          Null         |
|    Является ли пользователь администратором  |  bool  |                  -                 |                -               |        +       |        -       |          Null         |
|           Верификация пользователя           |  bool  |                  -                 |                -               |        +       |        -       |          Null         |
| Показывается ли пользователь в общей выборке |  bool  |                  -                 |                -               |        +       |        -       |          Null         |
|        Путь до фотографии пользователя       | Строка |            100 символов            |                +               |        -       |        -       |          Null         |
|       Проверка пользователя модератором      |  bool  |                  -                 |                -               |        +       |        -       |          Null         |
*Таблица 2. Информация о пользователе*

|       Полное название      |   Тип  | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:--------------------------:|:------:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|        Идентификатор       |  Число |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
| Название учебной программы | Строка |            100 символов            |                +               |        +       |        -       |          Null         |


*Таблица 3. Название учебных программ*

|      Полное название      |  Тип  | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:-------------------------:|:-----:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|       Идентификатор       | Число |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
| Название Института(Школы) |  enum |            12 элементов            |                +               |        +       |        -       |          Null         |
*Таблица 4.  Название Институтов(Школ)*


|           Полное название          |      Тип     | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:----------------------------------:|:------------:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|            Идентификатор           |     Число    |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
| Идентификатор первого пользователя |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
| Идентификатор второго пользователя |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
|     Время совпадение интересов     | Дата и Время |          начиная с 70 года         |                -               |        +       |        -       |          Null         |
*Таблица 5. Совпадение интересов людей*

|         Полное название         |      Тип     | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:-------------------------------:|:------------:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|          Идентификатор          |     Число    |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
|    Идентификатор пользователя   |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
|           Текст записи          |    Строка    |                  -                 |                -               |        +       |        -       |          Null         |
|   Проверка модератором записи   |     bool     |                  -                 |                +               |        +       |        -       |          Null         |
| Дата и Время отправление записи | Дата и Время |                  -                 |                -               |        +       |        -       |          Null         |
*Таблица 6. Записи созданные пользователями*

|                    Полное название                    |      Тип     | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:-----------------------------------------------------:|:------------:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|                     Идентификатор                     |     Число    |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
| Идентификатор пользователя который отправил сообщение |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
|  Идентификатор пользователя который получил сообщение |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
|  Идентификатор диалога которому принадлежит сообщение |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
|                    Текст сообщения                    |    Строка    |                  -                 |                -               |        +       |        -       |          Null         |
|              Время отправления сообщения              | Дата и Время |                  -                 |                -               |        +       |        -       |          Null         |
|               Время прочтения сообщения               | Дата и Время |                  -                 |                -               |        +       |        -       |          Null         |

*Таблица 7. Сообщения отправленные пользователям*

|           Полное название          |      Тип     | Ограничение на допустимые значения | Доступность для редактирования | Обязательность |  Уникальность  | Значение по умолчанию |
|:----------------------------------:|:------------:|:----------------------------------:|:------------------------------:|:--------------:|:--------------:|:---------------------:|
|            Идентификатор           |     Число    |                  -                 |                -               |        +       | Первичный ключ |       Инкремент       |
| Идентификатор первого пользователя |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
| Идентификатор второго пользователя |     Число    |                  -                 |                -               |        +       |        -       |          Null         |
|       Время создание диалога       | Дата и Время |                  -                 |                -               |        +       |        -       |          Null         |

*Таблица 8. Диалоги между пользователями*

## 4.3 Описание проткола
Протокол HTTPS (HyperText Transfer Protocol Secure) -  расширение протокола HTTP для поддержки шифрования в целях повышения безопасности. Данные в протоколе HTTPS передаются поверх криптографических протоколов TLS или устаревшего в 2015 году SSL. В отличие от HTTP с TCP-портом 80, для HTTPS по умолчанию используется TCP-порт 443

#### Идентификация сервера
HTTP/TLS запросы генерируются путём разыменования URI, вследствие чего имя хоста становится известно клиенту. В начале общения, сервер посылает клиенту свой сертификат, чтобы клиент идентифицировал его. Это позволяет предотвратить атаку посредника. В сертификате указывается URI сервера. Согласование имени хоста и данных, указанных в сертификате, происходит в соответствии с протоколом RFC 2459.

#### Идентификация клиента
Обычно сервер не располагает информацией о клиенте, достаточной для его идентификации. Однако для обеспечения повышенной защищенности соединения используется так называемая two-way authentication. При этом сервер после подтверждения его сертификата клиентом также запрашивает сертификат. Таким образом, схема подтверждения клиента аналогична идентификации сервера.

### Уязвимости HTTPS
#### Совместное использование HTTP и HTTPS
Когда сайты используют смешанную функциональность HTTP и HTTPS, это потенциально приводит к информационной угрозе для пользователя. Например, если основные страницы некоторого сайта загружаются, используя HTTPS, а CSS и JavaScript загружаются по HTTP, то злоумышленник в момент загрузки последних может подгрузить свой код и получить данные HTML-страницы. Многие сайты, несмотря на такие уязвимости, загружают контент через сторонние сервисы, которые не поддерживают HTTPS. Механизм HSTS позволяет предотвратить подобные уязвимости, заставляя принудительно использовать HTTPS соединение даже там, где по умолчанию используется HTTP.

#### Атаки с использованием анализа трафика
В HTTPS были обнаружены уязвимости, связанные с анализом трафика. Атака с анализом трафика — это тип атаки, при которой выводятся свойства защищенных данных канала путем измерения размера трафика и времени передачи сообщений в нём. Анализ трафика возможен, поскольку шифрование SSL/TLS изменяет содержимое трафика, но оказывает минимальное влияние на размер и время прохождения трафика.
